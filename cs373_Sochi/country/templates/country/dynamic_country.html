
<!DOCTYPE html>
<html lang="en">
<head>

{% load stringify %}

  <style>
    #map_canvas {
      width: 300px;
      height: 300px;
    }
  </style>
  <script src="https://maps.googleapis.com/maps/api/js"></script>

  <script>
    function initialize() {
      var map_canvas = document.getElementById('map_canvas');
      var map_options = {
        center: new google.maps.LatLng({{country.coordx}},{{country.coordy}}),
        zoom: {{country.coordz}},
        mapTypeId: google.maps.MapTypeId.ROADMAP
      }
      var map = new google.maps.Map(map_canvas, map_options)
    }
    google.maps.event.addDomListener(window, 'load', initialize);
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="olyrings.icon"> <!-- TODO icon -->

  <title>2014 Sochi Winter Olympics</title>

  <!-- Bootstrap core CSS -->
  <link href="/static/athlete/bootstrap.min.css" rel="stylesheet"><!-- TODO-->

  <!-- Custom styles for this template -->
  <link href="/static/athlete/countrystyle.css" rel="stylesheet"><!--TODO-->

  <body>

    <!-- Start of Navbar-->
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">

    <!-- Navbar Title -->
    <div class="navbar-header">
      <a class="navbar-brand" href="http://ajhooper.pythonanywhere.com/home/">Sochi 2014</a>
    </div>

    <!-- Navbar Links -->
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">

        <!-- Navbar Link #1 -->
        <li>
          <a href="#" data-toggle="dropdown">Athletes</a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="http://ajhooper.pythonanywhere.com/athlete/meryl_davis/">
                <span class="dropdown-left"><img src="/static/athlete/images/usa_small.png" alt=""></span>
                <span class="dropdown-right">Meryl Davis</span>
              </a>
            </li>
            <li>
              <a href="http://ajhooper.pythonanywhere.com/athlete/tobias_arlt/">
                <span class="dropdown-left"><img src="/static/athlete/images/ger_small.png" alt=""></span>
                <span class="dropdown-right">Tobias Arlt</span>
              </a>
            </li>
            <li>
              <a href="http://ajhooper.pythonanywhere.com/athlete/ireen_wust/">
                <span class="dropdown-left"><img src="/static/athlete/images/ned_small.png" alt=""></span>
                <span class="dropdown-right">Ireen Wust</span>
              </a>
            </li>
          </ul>
        </li>

        <!-- Navbar Link #2 -->
        <li>
          <a href="#" data-toggle="dropdown">Countries</a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="http://ajhooper.pythonanywhere.com/country/united_states/">
              <span class="dropdown-left"><img src="/static/athlete/images/usa_small.png" alt=""></span>
              <span class="dropdown-right">United States</span>
              </a>
            </li>
            <li>
              <a href="http://ajhooper.pythonanywhere.com/country/germany/">
              <span class="dropdown-left"><img src="/static/athlete/images/ger_small.png" alt=""></span>
              <span class="dropdown-right">Germany</span>
              </a>
            </li>
            <li>
              <a href="http://ajhooper.pythonanywhere.com/country/netherlands/">
              <span class="dropdown-left"><img src="/static/athlete/images/ned_small.png" alt=""></span>
              <span class="dropdown-right">Netherlands</span>
              </a>
            </li>
          </ul>
        </li>

        <!-- Navbar Link #3 -->
        <li>
          <a href="#" data-toggle="dropdown">Events</a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="http://ajhooper.pythonanywhere.com/event/figure_skating_ice_dance_free_dance/">
              <span class="dropdown-left"><img src="/static/athlete/images/fs_icon_small.png" alt=""></span>
              <span class="dropdown-right">FS:Ice Dance Free Dance</span>
              </a>
            </li>
            <li>
              <a href="http://ajhooper.pythonanywhere.com/event/luge_luge_doubles/">
              <span class="dropdown-left"><img src="/static/athlete/images/l_icon_small.png" alt=""></span>
              <span class="dropdown-right">Luge:Doubles</span>
              </a>
            </li>
            <li>
              <a href="http://ajhooper.pythonanywhere.com/event/speed_skating_ladies_3000m/">
              <span class="dropdown-left"><img src="/static/athlete/images/ss_icon_small.png" alt=""></span>
              <span class="dropdown-right">SS:Ladies' 3000m</span>
              </a>
            </li>
          </ul>
        </li>

      <!-- Search bar -->
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
        <input type="text" class="form-control" placeholder="">
        </div>
        <button type="submit" class="btn btn-default">Search</button>
      </form>
      <!-- End of Search bar -->

      </ul>
    </div> <!-- Close Collapse -->
    </div> <!-- Close Container -->
  </nav> <!-- End of Navbar -->

    <!-- Start of Content -->
    <div class="header">

      <!-- Left Side -->
      <img class="flag" src={{"/static/athlete/images/"|add:country.country_code|add:".png"}} alt={{country.name}}>
      <h1 class="country-name">{{country.name}}</h1 >
        <hr class="country-decoration">
        <p>{{country.description}}</p>
        <hr class="header-decoration">
      </div>

      <!-- Start of Body -->
      <div class="content">
        <div class="gmap" id="map_canvas"></div>
        <table class="medal-totals">
          <h3>Athletes</h3>
          <tr>
            <th>Name</th>
            <th class="gold">Gold</th>
            <th class="silver">Silver</th>
            <th class="bronze">Bronze</th>
            <th class="total">Total</th>
          </tr>
          <tr>
            {% for athlete in country.athletes.all %}
                <td><a href={{"/athlete/"|add:athlete.first_name|add:" "|add:athlete.last_name|stringify}}> {{athlete.first_name}} {{athlete.last_name}} </a></td>
                <td>{{athlete.gold_medals.all|length}}</td>
                <td>{{athlete.silver_medals.all|length}}</td>
                <td>{{athlete.bronze_medals.all|length}}</td>
                <td>{{ athlete.gold_medals.all.count|add:athlete.silver_medals.all.count|add:athlete.bronze_medals.all.count }}</td>
            {% endfor %}
          </tr>
          <tr>
           <th class ="total">Total</th>
           <td>{{country.total_gold_medals}}</td>
           <td>{{country.total_silver_medals}}</td>
           <td>{{country.total_bronze_medals}}</td>
           <td>{{country.total_gold_medals|add:country.total_silver_medals|add:country.total_bronze_medals }}</td>
         </tr>
       </table>

       <table class="medal-events">
        <h3>Events Placed</h3>
        <tr>
          <th>Gold</th>
          <td>
            {% for athlete in country.athletes.all %}
                {% for event in athlete.gold_medals.all %}
                <div><a href={{"/event/"|add:event.sport|add:"-"|add:event.name|stringify}}>{{ event.sport }}:{{ event.name }}</a></div>
                {% endfor %}
            {% endfor %}
          </td>
         </tr>
         <tr>
          <th>Silver</th>
          <td>
            {% for athlete in country.athletes.all %}
                {% for event in athlete.silver_medals.all %}
                <div><a href={{"/event/"|add:event.sport|add:"-"|add:event.name|stringify}}>{{ event.sport }}:{{ event.name }}</a></div>
                {% endfor %}
            {% endfor %}
          </td>
        </tr>
        <tr>
          <th>Bronze</th>
          <td>
            {% for athlete in country.athletes.all %}
                {% for event in athlete.bronze_medals.all %}
                <div><a href={{"/event/"|add:event.sport|add:"-"|add:event.name|stringify}}>{{ event.sport }}:{{ event.name }}</a></div>
                {% endfor %}
            {% endfor %}
          </td>
        </tr>
      </table>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="/static/athlete/bootstrap.min.js"></script>
  </body>
  </html>
